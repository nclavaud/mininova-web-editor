(this["webpackJsonpmininova-web-editor"]=this["webpackJsonpmininova-web-editor"]||[]).push([[0],{18:function(e,t,n){e.exports=n(24)},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),u=(n(23),n(4)),l=n(16),i=n(17),s=n(25),m=240,v=[0,32,41,3,1],f=function(e,t){return new Uint8Array([176,e,t])},d=function(e,t,n){return new Uint8Array([176,99,e,176,98,t,176,6,n])},p=function(e){return e>=0&&e<=127},h=function(e){if(!e.every(p))throw new RangeError("Sequence contains invalid sysex value");return new Uint8Array([m].concat(v).concat(e).concat([247]))},E=n(26),b=n(28),g=[0,"Sine",1,"Triangle",2,"Sawtooth"];var w=function(e){var t=e.emit,n=e.controls,a=e.number;return c.a.createElement("div",null,c.a.createElement("h4",null,"Oscillator ",a),c.a.createElement("select",{onChange:function(e){return t(n.wave(e.target.value))}},E.a((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return c.a.createElement("option",{key:n,value:n},a)}),b.a(2,g))),c.a.createElement("div",null,c.a.createElement("label",{for:"osc-".concat(a,"-vsync")},"Virtual Sync"),c.a.createElement("input",{id:"osc-".concat(a,"-vsync"),type:"number",min:"0",max:"127",onChange:function(e){return t(n.vsync(e.target.value))}})))},y=s.a(f);var O=function(e){var t=e.currentPatch,n=e.loadPatch,a=e.emit,r={1:{wave:y(19),vsync:y(22)},2:{wave:y(29),vsync:y(33)},3:{wave:y(41),vsync:y(44)}};return c.a.createElement("div",null,c.a.createElement("h3",null,"Patch"),c.a.createElement("p",null,"Current patch: ",t),c.a.createElement("button",{onClick:function(){return a(d(63,0,0))}},"Prev patch"),c.a.createElement("button",{onClick:function(){return a(d(63,0,2))}},"Next patch"),c.a.createElement("button",{onClick:n},"Load patch"),c.a.createElement("h3",null,"Oct / Arp"),c.a.createElement("button",{onClick:function(){return a(f(13,0))}},"Change octave"),c.a.createElement("button",{onClick:function(){return a(d(0,122,47))}},"Arp ON"),c.a.createElement("button",{onClick:function(){return a(d(0,122,46))}},"Arp OFF"),c.a.createElement("h3",null,"Oscillators"),[1,2,3].map((function(e){return c.a.createElement(w,{key:e,emit:a,controls:r[e],number:e})})))},I=n(29),k=n(27);var j=function(){return c.a.createElement("div",null,c.a.createElement("p",null,"It looks like your browser does not support MIDI."),c.a.createElement("p",null,"MIDI access is an experimental technology. Check the list of compatible browsers in the ",c.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/MIDIAccess#Browser_compatibility"},"Browser compatibility table "),"."))};var C=function(e){var t=e.onIncomingMidiMessage,n=e.selectPatch,r=e.input,o=e.setInput,l=e.output,i=e.setOutput,s=Object(a.useState)(null),m=Object(u.a)(s,2),v=m[0],f=m[1],d=Object(a.useState)(null),p=Object(u.a)(d,2),h=p[0],E=p[1],b=Object(a.useState)(null),g=Object(u.a)(b,2),w=g[0],y=g[1];return Object(a.useEffect)((function(){var e=function(e){console.log("Detecting devices");for(var t=[],n=e.outputs.values(),a=n.next();a&&!a.done;a=n.next())t.push(a.value);y(t);for(var c=[],r=e.inputs.values(),o=r.next();o&&!o.done;o=r.next())c.push(o.value);E(c)};navigator.requestMIDIAccess?(f(!0),navigator.requestMIDIAccess({sysex:!0}).then((function(t){t.onstatechange=function(n){e(t)},e(t)}))):f(!1)}),[]),null===v?c.a.createElement("p",null,"Detecting MIDI support..."):v?null===h||null===w?c.a.createElement("div",null,"Detecting MIDI devices..."):c.a.createElement("div",null,c.a.createElement("p",null,"Available devices:"),c.a.createElement("ul",null,h.map((function(e){return c.a.createElement("li",{key:e.id},"IN ",e.name,r&&e.id===r.id?" (selected)":c.a.createElement("button",{onClick:function(){return function(e){r&&(r.onmidimessage=null);var n=I.a(k.a("id",e))(h);n.onmidimessage=t,o(n)}(e.id)}},"select"))})),w.map((function(e){return c.a.createElement("li",{key:e.id},"OUT ",e.name,l&&e.id===l.id?" (selected)":c.a.createElement("button",{onClick:function(){return function(e){var t=I.a(k.a("id",e))(w);i(t),n(t)}(e.id)}},"select"))})))):c.a.createElement(j,null)},M=[127,96,33,0,0,0,0],S=[127,98,1,0,0,0,0],A=[127,64,0,0,0,0,0],x=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"send",value:function(e){var t=e.map((function(e){return e})).join(" ");console.log("Output: ".concat(t))}}]),e}());var D=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(x),l=Object(u.a)(o,2),i=l[0],s=l[1],m=Object(a.useState)(null),v=Object(u.a)(m,2),f=v[0],p=v[1],E=function(e){return i&&i.send(e)},b=function(){return E(h(A))};return c.a.createElement("div",null,c.a.createElement(C,{onIncomingMidiMessage:function(e){192===e.data[0]?p(e.data[1]):console.log(e)},selectPatch:function(e){E(h(S)),setTimeout((function(){return E(h(M))}),1e3),setTimeout((function(){return E(d(63,0,1))}),2e3),setTimeout(b,3e3)},input:n,setInput:r,output:i,setOutput:s}),c.a.createElement(O,{currentPatch:f,loadPatch:b,emit:E}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c34dea70.chunk.js.map